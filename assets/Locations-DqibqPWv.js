import{j as n,L as p,i as f,r as a}from"./main-WGATXNah.js";import{u as N,a as v,S}from"./useQuery-C__2dX3N.js";const k="_link_o4s8z_1",C="_locationContainer_o4s8z_31",c={link:k,locationContainer:C},x=({location:o,ref:e})=>n.jsx(p,{to:f.location(o.id.toString()),className:c.link,state:{location:o},children:n.jsx("div",{ref:e,className:c.locationContainer,children:n.jsx("span",{className:c.nameSign,children:o.name})})}),L="_caption_1dl8s_1",b="_container_1dl8s_9",R="_locations_1dl8s_71",l={caption:L,container:b,locations:R},z=()=>{const[o,e]=a.useState(1),{loading:i,error:m,data:_,hasMore:d}=N("/location",o),{dataArr:u,toggleSort:j}=v(_),t=a.useRef(null),g=a.useCallback(s=>{i||(t.current&&t.current.disconnect(),t.current=new IntersectionObserver(r=>{r[0].isIntersecting&&d&&e(h=>h+1)}),s&&t.current.observe(s))},[i,d]);return n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:l.caption,children:"Locations"}),n.jsxs("div",{className:l.container,children:[n.jsx(S,{onClick:j}),n.jsxs("div",{className:l.locations,children:[u.map((s,r)=>r===u.length-2?n.jsx(x,{ref:g,location:s},s.id):n.jsx(x,{location:s},s.id)),i&&n.jsx("div",{children:"Loading..."}),m&&n.jsx("div",{children:"Something went wrong"})]})]})]})};export{z as default};
