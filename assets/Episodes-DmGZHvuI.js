import{j as e,L as h,i as f,r as c}from"./main-WGATXNah.js";import{u as k,a as v,S as N}from"./useQuery-C__2dX3N.js";const C="_link_1ck1t_1",S="_episodeContainer_1ck1t_33",p={link:C,episodeContainer:S},u=({episode:n,ref:r})=>e.jsx(h,{to:f.episode(n.id.toString()),className:p.link,state:{episode:n},children:e.jsx("div",{ref:r,className:p.episodeContainer,children:n.name})}),E="_caption_gn5mq_1",b="_container_gn5mq_9",R="_episodes_gn5mq_71",a={caption:E,container:b,episodes:R},y=()=>{const[n,r]=c.useState(1),{loading:i,error:m,data:g,hasMore:d}=k("/episode",n),{dataArr:l,toggleSort:x}=v(g),t=c.useRef(null),_=c.useCallback(s=>{i||(t.current&&t.current.disconnect(),t.current=new IntersectionObserver(o=>{o[0].isIntersecting&&d&&r(j=>j+1)}),s&&t.current.observe(s))},[i,d]);return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:a.caption,children:"Episodes"}),e.jsxs("div",{className:a.container,children:[e.jsx(N,{onClick:x}),e.jsxs("div",{className:a.episodes,children:[l.map((s,o)=>o===l.length-2?e.jsx(u,{ref:_,episode:s},s.id):e.jsx(u,{episode:s},s.id)),i&&e.jsx("div",{children:"Loading..."}),m&&e.jsx("div",{children:"Something went wrong"})]})]})]})};export{y as default};
